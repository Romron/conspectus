### Что такое хуки

**Хуки это** точки в коде WordPress, где можно "подцепиться" своей собственной функцией и выполнить какой-либо код. По сути, **это события**, которые происходят в определенные моменты жизненного цикла WordPress. 

### Существует два основных типа хуков:

- **Действия (Actions):** Выполняют какой-либо код в определенный момент. Например, можно добавить свой код, который будет выполняться после того, как страница полностью загрузится.
- **Фильтры (Filters):** Изменяют значение данных, передаваемых между функциями. Например, можно изменить заголовок страницы перед его выводом.

### Как работают хуки:

1. **Определение хука:** В ядре WordPress или плагине определяется хук с уникальным именем.
2. **Создание функции-обработчика:** Вы пишете функцию, которая будет выполняться при срабатывании хука.
3. **Регистрация функции:** Вы регистрируете свою функцию в хуке с помощью специальных функций `add_action()` для действий и `add_filter()` для фильтров.

```php
// Хук для добавления кастомного кода в шапку сайта
add_action( 'wp_head', 'my_custom_code_in_head' );

function my_custom_code_in_head() {
    echo '<script>console.log("Hello from my custom code!");</script>';
}
```

### Как работают фильтры:

Фильтры позволяют изменять данные перед их использованием. Например, можно изменить заголовок страницы, добавить класс к тегу или изменить содержимое поля метабокса.

```php
// Фильтр для изменения заголовка страницы
add_filter( 'the_title', 'my_custom_title' );

function my_custom_title( $title ) {
    if ( is_single() && get_post_type() == 'post' ) {
        $title .= ' - Мой блог';
    }
    return $title;
}
```

### Почему хуки и фильтры так важны:

- **Расширение функциональности:** Без изменения ядра WordPress.
- **Кастомизация:** Настройка WordPress под свои нужды.
- **Совместимость:** Хуки позволяют создавать плагины, которые не конфликтуют друг с другом.
- **Улучшение производительности:** Можно оптимизировать определенные участки кода.

### Важные моменты при работе с хуками и фильтрами

- **Порядок выполнения:** Функции, зарегистрированные в одном хуке, могут выполняться в произвольном порядке.
- **Приоритет:** Можно задать приоритет выполнения функции при помощи третьего параметра в функциях `add_action()` и `add_filter()`.
- **Удаление функций:** Если нужно удалить функцию из хука, используйте функции `remove_action()` и `remove_filter()`.


### 20 наиболее часто используемых хуков в WordPress


### Хуки для управления контентом

1. **init:** Выполняется при инициализации WordPress, идеально подходит для регистрации кастомных постов, таксономий, виджетов и т.д.
2. **save_post:** Выполняется после сохранения записи, используется для выполнения действий после сохранения, таких как обновление метаданных, отправка уведомлений и т.д.
3. **comment_post:** Выполняется после отправки комментария, используется для модерации комментариев, отправки уведомлений и т.д.
4. **the_content:** Выполняется перед выводом содержимого записи, используется для фильтрации и изменения содержимого.
5. **wp_head:** Выполняется в секции `<head>` шаблона, используется для добавления кастомных стилей, скриптов и мета-тегов.
6. **wp_footer:** Выполняется в секции `<footer>` шаблона, используется для добавления кастомных скриптов, аналитики и т.д.

### Хуки для управления пользовательским интерфейсом

7. **admin_menu:** Используется для создания кастомных пунктов меню в админке.
8. **admin_init:** Выполняется при инициализации админ-интерфейса, используется для регистрации настроек, метабоксов и т.д.
9. **login_init:** Выполняется при инициализации формы входа, используется для кастомизации формы входа.
10. **login_form:** Выполняется внутри формы входа, используется для добавления дополнительных полей или элементов.

### Хуки для управления скриптами и стилями

11. **wp_enqueue_scripts:** Используется для регистрации скриптов, которые будут загружены на фронтенде.
12. **wp_enqueue_style:** Используется для регистрации стилей, которые будут загружены на фронтенде.
13. **admin_enqueue_scripts:** Используется для регистрации скриптов, которые будут загружены в админке.
14. **admin_enqueue_styles:** Используется для регистрации стилей, которые будут загружены в админке.

### Хуки для работы с шаблонами

15. **template_redirect:** Выполняется перед загрузкой шаблона, используется для перенаправления, изменения шаблона и т.д.
16. **wp_head:** И используется для управления содержимым секции `<head>` шаблона.
17. **wp_footer:** И используется для управления содержимым секции `<footer>` шаблона.

### Хуки для других целей

18. **plugins_loaded:** Выполняется после загрузки всех плагинов, используется для инициализации плагина.
19. **shutdown:** Выполняется перед завершением запроса, используется для очистки и выполнения финальных действий.
20. **wp_ajax_nopriv_{action}** и **wp_ajax_{action}** Используются для обработки AJAX-запросов.